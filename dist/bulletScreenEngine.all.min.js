!function l(a,o,c){function s(t,e){if(!o[t]){if(!a[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var r=o[t]={exports:{}};a[t][0].call(r.exports,function(e){return s(a[t][1][e]||e)},r,r.exports,l,a,o,c)}return o[t].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BulletScreenEngine=void 0;var A=e("./linkedList"),C=e("./version");i.BulletScreenEngine=function(e,h){var t,i,n,r,v,p,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas",l=0,o=new A.LinkedList,f=new A.LinkedList,c=0,y=0,s=.06,a=!1,u=0;(h=S(h,{})).verticalInterval=S(h.verticalInterval,8),h.playSpeed=S(h.playSpeed,1),h.clock=S(h.clock,function(e){return(new Date).getTime()-t}),h.shadowBlur=S(h.shadowBlur,2),h.scaling=S(h.scaling,1),h.timeOutDiscard=S(h.timeOutDiscard,!0),h.fontWeight=S(h.fontWeight,600),h.fontFamily=S(h.fontFamily,"sans-serif"),this.option=h;var d,m,x=e.clientWidth,T=e.clientHeight;function S(e,t){return void 0===e?t:"number"==typeof e&&isNaN(e)?t:null==e?t:e}function b(){var a,e=(new Date).getTime();null!=n&&(s=1/(e-n)),n=e,function(){0==f.getLength()&&(y=0);var e=.02<s?Math.ceil(1/s):1;do{var t=o.pop(!1,!1);if(null==t)return;var i=h.clock();if(t.startTime>i)return;!h.timeOutDiscard||!t.canDiscard||t.startTime>i-1/s*1.5?E(i,t):c++,o.pop(!0,!1),e--}while(0==f.getLength()||0<e)}(),f.forEach(function(e){var t=h.clock();switch(e.BulletScreen.type){case 0:if(!(e.x>-e.width))return"css3"===g&&v.removeChild(e.element),{remove:!0};e.x-=e.BulletScreen.speed*h.playSpeed/s;break;case 1:if(!(e.x<x))return"css3"===g&&v.removeChild(e.element),{remove:!0};e.x+=e.BulletScreen.speed*h.playSpeed/s;break;case 2:case 3:if(e.endTime<t)return"css3"===g&&v.removeChild(e.element),{remove:!0}}},!0),"css3"===g?f.forEach(function(e){e.element.style.transform="translate("+(e.x-4)+"px,"+(e.actualY-4)+"px)"},!0):"canvas"===g?function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height;var t=e.getContext("2d");f.forEach(function(e){t.drawImage(e.hideCanvas,e.x-4,e.actualY-4)},!0);var i=r.getContext("2d");i.clearRect(0,0,x,T),i.drawImage(e,0,0)}():"webgl"===g&&((a=p.webglContext).clear(a.COLOR_BUFFER_BIT),f.forEach(function(e){var t=e.x-4,i=t+e.width+8,n=e.actualY-4,r=n+e.height+8;a.bindTexture(a.TEXTURE_2D,e.texture2D);var l=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,l),a.enableVertexAttribArray(p.positionAttributeLocation),a.vertexAttribPointer(p.positionAttributeLocation,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,new Float32Array([t,n,i,n,t,r,t,r,i,n,i,r]),a.STATIC_DRAW),a.drawArrays(a.TRIANGLES,0,6)},!0)),i&&requestAnimationFrame(b)}function w(e){var t=document.createElement("canvas");t.width=e.width+8,t.height=e.height+8;var i=t.getContext("2d");return i.textBaseline="top",i.shadowColor="black",i.font=h.fontWeight+" "+e.size.toString()+"px "+h.fontFamily,null!=e.BulletScreen.color&&(i.shadowBlur=h.shadowBlur+.5,i.fillStyle=e.BulletScreen.color,i.fillText(e.BulletScreen.text,4,4)),null!=e.BulletScreen.borderColor&&(i.shadowBlur=0,i.lineWidth=.5,i.strokeStyle=e.BulletScreen.borderColor,i.strokeText(e.BulletScreen.text,4,4)),null!=e.BulletScreen.boxColor&&(i.shadowBlur=0,i.lineWidth=2,i.strokeStyle=e.BulletScreen.boxColor,i.strokeRect(0,0,e.width+8,e.height+8)),t}function E(i,t){y=i-t.startTime;var e,n,r,l,a,o,c={};if(c.BulletScreen=t,c.startTime=i,c.size=c.BulletScreen.size*h.scaling,c.height=c.size,"css3"===g)c.element=(a=(l=c).BulletScreen,(o=document.createElement("div")).className="BulletScreenDiv",o.setAttribute("data-uuid",a.uuid),o.style.position="absolute",o.style.webkitUserSelect="none",o.style.whiteSpace="nowrap",o.style.fontWeight=h.fontWeight,o.style.fontSize=l.size.toString()+"px",o.style.fontFamily=h.fontFamily,o.style.lineHeight=l.size.toString()+"px",o.style.padding="3px",o.style.textShadow="0 0 "+h.shadowBlur.toString()+"px black",null==a.color?o.style.color="rgba(0,0,0,0)":o.style.color=a.color,null!=a.borderColor&&(o.style.webkitTextStroke="0.5px",o.style.webkitTextStrokeColor=a.borderColor),null!=a.boxColor&&(o.style.border="1px solid",o.style.borderColor=a.boxColor),o.innerText=a.text,v.appendChild(o),o),c.width=c.element.clientWidth-8;else if("canvas"===g||"webgl"===g){var s=document.createElement("canvas").getContext("2d");s.font=h.fontWeight+" "+c.size.toString()+"px "+h.fontFamily,c.width=s.measureText(t.text).width,"canvas"===g?c.hideCanvas=w(c):c.texture2D=(e=w(c),n=p.webglContext,r=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),r)}switch(c.endTime=parseInt(i+(x+c.width)/(t.speed*h.playSpeed)),t.type){case 0:c.endTime=parseInt(i+(x+c.width)/(t.speed*h.playSpeed)),c.x=x,c.y=h.verticalInterval*h.scaling;break;case 1:c.endTime=parseInt(i+(x+c.width)/(t.speed*h.playSpeed)),c.x=-c.width,c.y=h.verticalInterval*h.scaling;break;case 2:c.endTime=c.startTime+t.residenceTime,c.x=parseInt((x-c.width)/2),c.y=h.verticalInterval*h.scaling;break;case 3:c.endTime=c.startTime+t.residenceTime,c.x=parseInt((x-c.width)/2),c.y=-h.verticalInterval*h.scaling-c.height}var u=f.getLength();if(1<t.type)f.forEach(function(e){if(e.BulletScreen.type==t.type)if(2==t.type){if(c.y+c.height<e.y)return{add:{addToUp:!0,element:_(c)},stop:!0};e.endTime<i?c.y=e.y:c.y=e.y+e.height+h.verticalInterval*h.scaling}else{if(c.y>e.y+e.height)return{add:{addToUp:!0,element:_(c)},stop:!0};e.endTime<i?c.y=e.y:c.y=e.y-c.height-h.verticalInterval*h.scaling}},!0);else{var d=c.width/(c.BulletScreen.speed*h.playSpeed);f.forEach(function(e){if(!(1<e.BulletScreen.type)){if(c.y+c.height<e.y)return{add:{addToUp:!0,element:_(c)},stop:!0};var t=e.width/(e.BulletScreen.speed*h.playSpeed);e.startTime+t>=i||e.endTime>=c.endTime-d?c.y=e.y+e.height+h.verticalInterval*h.scaling:c.y=e.y}},!0)}f.getLength()==u&&f.push(_(c),!1)}function _(e){var t=e.BulletScreen;return t.type<3?e.actualY=e.y%(T-e.height):3==t.type&&(e.actualY=T+e.y%T),e}function B(e){var t=document.createElement("canvas");return t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.width=e.clientWidth,t.height=e.clientHeight,e.innerHTML="",e.appendChild(t),t}"css3"==g?(d=e,(m=document.createElement("div")).style.width=d.clientWidth+"px",m.style.height=d.clientHeight+"px",m.style.overflow="hidden",m.style.position="relative",m.style.padding="0",m.style.margin="0",d.innerHTML="",d.appendChild(m),v=m):"canvas"==g?r=B(e):"webgl"==g&&(p=function(e){var t=function(e,t,i){var n=e.createShader(t);e.shaderSource(n,i),e.compileShader(n);var r=e.getShaderParameter(n,e.COMPILE_STATUS);if(r)return n;e.deleteShader(n)},i=B(e),n=i.getContext("webgl");n.enable(n.BLEND),n.clearColor(0,0,0,0),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA);var r=t(n,n.VERTEX_SHADER,"attribute vec2 a_position;attribute vec2 a_texcoord;uniform vec2 u_resolution;varying vec2 v_texcoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texcoord = a_texcoord;}"),l=t(n,n.FRAGMENT_SHADER,"precision mediump float;varying vec2 v_texcoord;uniform sampler2D u_texture;void main() {gl_FragColor = texture2D(u_texture, v_texcoord);}"),a=function(e,t,i){var n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,i),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))return n;e.deleteProgram(n)}(n,r,l);n.useProgram(a);var o=n.getAttribLocation(a,"a_position"),c=n.getAttribLocation(a,"a_texcoord"),s=n.getUniformLocation(a,"u_resolution");n.viewport(0,0,e.clientWidth,e.clientHeight),n.uniform2f(s,e.clientWidth,e.clientHeight);var u=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,u),n.enableVertexAttribArray(c),n.vertexAttribPointer(c,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),{canvas:i,positionAttributeLocation:o,resolutionUniformLocation:s,webglContext:n}}(e)),setInterval(function(){x==e.clientWidth&&T==e.clientHeight||(x=e.clientWidth,T=e.clientHeight,"css3"==g?(v.style.width=x+"px",v.style.height=T+"px"):"canvas"==g?(r.style.width=x+"px",r.style.height=T+"px",r.width=x,r.height=T):"webgl"==g&&(p.canvas.style.width=x+"px",p.canvas.style.height=T+"px",p.canvas.width=x,p.canvas.height=T,p.webglContext.viewport(0,0,x,T),p.webglContext.uniform2f(p.resolutionUniformLocation,x,T)))},100),this.addBulletScreen=function(t){if((t=S(t,{})).uuid=S(""),t.text=S(t.text,"Empty"),t.boxColor=S(t.boxColor,null),t.speed=S(t.speed,.15),t.size=S(t.size,19),t.color=S(t.color,null),t.borderColor=S(t.borderColor,null),t.type=S(t.type,0),t.startTime=S(t.startTime,h.clock()),t.residenceTime=S(t.endTime,5e3),t.canDiscard=S(t.canDiscard,!0),t.type<=3){var e=o.getLength();o.forEach(function(e){if(t.startTime>e.startTime)return{add:{addToUp:!0,element:t},stop:!0}},!0),e==o.getLength()&&o.push(t,!1)}},this.play=function(){i||(t||(t=(new Date).getTime()),l&&(t+=h.clock()-l),i=!(n=null),requestAnimationFrame(b))},this.pause=function(){i&&(l=h.clock(),i=!1)},this.cleanBulletScreenList=function(){o.clean()},this.cleanBulletScreenListOnScreen=function(){f.clean(),"css3"===g?v.innerHTML="":"canvas"===g?r.getContext("2d").clearRect(0,0,x,T):"webgl"===g&&p.webglContext.clear(webglContext.COLOR_BUFFER_BIT)},this.stop=function(){i&&this.pause(),this.cleanBulletScreenList(),this.cleanBulletScreenListOnScreen(),l=0,t=null},this.hide=function(){a=!0,"css3"===g?v.style.visibility="hidden":"canvas"===g?r.style.visibility="hidden":"webgl"===g&&(p.canvas.style.visibility="hidden")},this.show=function(){a=!1,"css3"===g?v.style.visibility="visible":"canvas"===g?r.style.visibility="visible":"webgl"===g&&(p.canvas.style.visibility="visible")},this.setOpacity=function(e){u=e,"css3"===g?v.style.opacity=e:"canvas"===g?r.style.opacity=e:"webgl"===g&&(p.canvas.style.opacity=e)},this.getOpacity=function(){return u},this.getVisibility=function(){return!a},this.getRenderMode=function(){return g},this.getPlayState=function(){return i},this.getDebugInfo=function(){return{time:i?h.clock():l,bulletScreensOnScreenCount:f.getLength(),bulletScreensCount:o.getLength(),delay:y,delayBulletScreensCount:c,fps:i?parseInt(1e3*s):0}},this.getVersion=function(){return{version:C.VERSION,buildDate:C.BUILE_DATE}}}},{"./linkedList":4,"./version":5}],2:[function(e,t,i){"use strict";var n=e("./BulletScreenEngine");window.BulletScreenEngine=n.BulletScreenEngine},{"./BulletScreenEngine":1}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BulletScreenEngine=void 0;var A=e("./linkedList"),C=e("./version");i.BulletScreenEngine=function(e,h){var t,i,n,r,v,p,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas",l=0,o=new A.LinkedList,f=new A.LinkedList,c=0,y=0,s=.06,a=!1,u=0;(h=S(h,{})).verticalInterval=S(h.verticalInterval,8),h.playSpeed=S(h.playSpeed,1),h.clock=S(h.clock,function(e){return(new Date).getTime()-t}),h.shadowBlur=S(h.shadowBlur,2),h.scaling=S(h.scaling,1),h.timeOutDiscard=S(h.timeOutDiscard,!0),h.fontWeight=S(h.fontWeight,600),h.fontFamily=S(h.fontFamily,"sans-serif"),this.option=h;var d,m,x=e.clientWidth,T=e.clientHeight;function S(e,t){return void 0===e?t:"number"==typeof e&&isNaN(e)?t:null==e?t:e}function b(){var a,e=(new Date).getTime();null!=n&&(s=1/(e-n)),n=e,function(){0==f.getLength()&&(y=0);var e=.02<s?Math.ceil(1/s):1;do{var t=o.pop(!1,!1);if(null==t)return;var i=h.clock();if(t.startTime>i)return;!h.timeOutDiscard||!t.canDiscard||t.startTime>i-1/s*1.5?E(i,t):c++,o.pop(!0,!1),e--}while(0==f.getLength()||0<e)}(),f.forEach(function(e){var t=h.clock();switch(e.BulletScreen.type){case 0:if(!(e.x>-e.width))return"css3"===g&&v.removeChild(e.element),{remove:!0};e.x-=e.BulletScreen.speed*h.playSpeed/s;break;case 1:if(!(e.x<x))return"css3"===g&&v.removeChild(e.element),{remove:!0};e.x+=e.BulletScreen.speed*h.playSpeed/s;break;case 2:case 3:if(e.endTime<t)return"css3"===g&&v.removeChild(e.element),{remove:!0}}},!0),"css3"===g?f.forEach(function(e){e.element.style.transform="translate("+(e.x-4)+"px,"+(e.actualY-4)+"px)"},!0):"canvas"===g?function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height;var t=e.getContext("2d");f.forEach(function(e){t.drawImage(e.hideCanvas,e.x-4,e.actualY-4)},!0);var i=r.getContext("2d");i.clearRect(0,0,x,T),i.drawImage(e,0,0)}():"webgl"===g&&((a=p.webglContext).clear(a.COLOR_BUFFER_BIT),f.forEach(function(e){var t=e.x-4,i=t+e.width+8,n=e.actualY-4,r=n+e.height+8;a.bindTexture(a.TEXTURE_2D,e.texture2D);var l=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,l),a.enableVertexAttribArray(p.positionAttributeLocation),a.vertexAttribPointer(p.positionAttributeLocation,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,new Float32Array([t,n,i,n,t,r,t,r,i,n,i,r]),a.STATIC_DRAW),a.drawArrays(a.TRIANGLES,0,6)},!0)),i&&requestAnimationFrame(b)}function w(e){var t=document.createElement("canvas");t.width=e.width+8,t.height=e.height+8;var i=t.getContext("2d");return i.textBaseline="top",i.shadowColor="black",i.font=h.fontWeight+" "+e.size.toString()+"px "+h.fontFamily,null!=e.BulletScreen.color&&(i.shadowBlur=h.shadowBlur+.5,i.fillStyle=e.BulletScreen.color,i.fillText(e.BulletScreen.text,4,4)),null!=e.BulletScreen.borderColor&&(i.shadowBlur=0,i.lineWidth=.5,i.strokeStyle=e.BulletScreen.borderColor,i.strokeText(e.BulletScreen.text,4,4)),null!=e.BulletScreen.boxColor&&(i.shadowBlur=0,i.lineWidth=2,i.strokeStyle=e.BulletScreen.boxColor,i.strokeRect(0,0,e.width+8,e.height+8)),t}function E(i,t){y=i-t.startTime;var e,n,r,l,a,o,c={};if(c.BulletScreen=t,c.startTime=i,c.size=c.BulletScreen.size*h.scaling,c.height=c.size,"css3"===g)c.element=(a=(l=c).BulletScreen,(o=document.createElement("div")).className="BulletScreenDiv",o.setAttribute("data-uuid",a.uuid),o.style.position="absolute",o.style.webkitUserSelect="none",o.style.whiteSpace="nowrap",o.style.fontWeight=h.fontWeight,o.style.fontSize=l.size.toString()+"px",o.style.fontFamily=h.fontFamily,o.style.lineHeight=l.size.toString()+"px",o.style.padding="3px",o.style.textShadow="0 0 "+h.shadowBlur.toString()+"px black",null==a.color?o.style.color="rgba(0,0,0,0)":o.style.color=a.color,null!=a.borderColor&&(o.style.webkitTextStroke="0.5px",o.style.webkitTextStrokeColor=a.borderColor),null!=a.boxColor&&(o.style.border="1px solid",o.style.borderColor=a.boxColor),o.innerText=a.text,v.appendChild(o),o),c.width=c.element.clientWidth-8;else if("canvas"===g||"webgl"===g){var s=document.createElement("canvas").getContext("2d");s.font=h.fontWeight+" "+c.size.toString()+"px "+h.fontFamily,c.width=s.measureText(t.text).width,"canvas"===g?c.hideCanvas=w(c):c.texture2D=(e=w(c),n=p.webglContext,r=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),r)}switch(c.endTime=parseInt(i+(x+c.width)/(t.speed*h.playSpeed)),t.type){case 0:c.endTime=parseInt(i+(x+c.width)/(t.speed*h.playSpeed)),c.x=x,c.y=h.verticalInterval*h.scaling;break;case 1:c.endTime=parseInt(i+(x+c.width)/(t.speed*h.playSpeed)),c.x=-c.width,c.y=h.verticalInterval*h.scaling;break;case 2:c.endTime=c.startTime+t.residenceTime,c.x=parseInt((x-c.width)/2),c.y=h.verticalInterval*h.scaling;break;case 3:c.endTime=c.startTime+t.residenceTime,c.x=parseInt((x-c.width)/2),c.y=-h.verticalInterval*h.scaling-c.height}var u=f.getLength();if(1<t.type)f.forEach(function(e){if(e.BulletScreen.type==t.type)if(2==t.type){if(c.y+c.height<e.y)return{add:{addToUp:!0,element:_(c)},stop:!0};e.endTime<i?c.y=e.y:c.y=e.y+e.height+h.verticalInterval*h.scaling}else{if(c.y>e.y+e.height)return{add:{addToUp:!0,element:_(c)},stop:!0};e.endTime<i?c.y=e.y:c.y=e.y-c.height-h.verticalInterval*h.scaling}},!0);else{var d=c.width/(c.BulletScreen.speed*h.playSpeed);f.forEach(function(e){if(!(1<e.BulletScreen.type)){if(c.y+c.height<e.y)return{add:{addToUp:!0,element:_(c)},stop:!0};var t=e.width/(e.BulletScreen.speed*h.playSpeed);e.startTime+t>=i||e.endTime>=c.endTime-d?c.y=e.y+e.height+h.verticalInterval*h.scaling:c.y=e.y}},!0)}f.getLength()==u&&f.push(_(c),!1)}function _(e){var t=e.BulletScreen;return t.type<3?e.actualY=e.y%(T-e.height):3==t.type&&(e.actualY=T+e.y%T),e}function B(e){var t=document.createElement("canvas");return t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.width=e.clientWidth,t.height=e.clientHeight,e.innerHTML="",e.appendChild(t),t}"css3"==g?(d=e,(m=document.createElement("div")).style.width=d.clientWidth+"px",m.style.height=d.clientHeight+"px",m.style.overflow="hidden",m.style.position="relative",m.style.padding="0",m.style.margin="0",d.innerHTML="",d.appendChild(m),v=m):"canvas"==g?r=B(e):"webgl"==g&&(p=function(e){var t=function(e,t,i){var n=e.createShader(t);e.shaderSource(n,i),e.compileShader(n);var r=e.getShaderParameter(n,e.COMPILE_STATUS);if(r)return n;e.deleteShader(n)},i=B(e),n=i.getContext("webgl");n.enable(n.BLEND),n.clearColor(0,0,0,0),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA);var r=t(n,n.VERTEX_SHADER,"attribute vec2 a_position;attribute vec2 a_texcoord;uniform vec2 u_resolution;varying vec2 v_texcoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texcoord = a_texcoord;}"),l=t(n,n.FRAGMENT_SHADER,"precision mediump float;varying vec2 v_texcoord;uniform sampler2D u_texture;void main() {gl_FragColor = texture2D(u_texture, v_texcoord);}"),a=function(e,t,i){var n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,i),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))return n;e.deleteProgram(n)}(n,r,l);n.useProgram(a);var o=n.getAttribLocation(a,"a_position"),c=n.getAttribLocation(a,"a_texcoord"),s=n.getUniformLocation(a,"u_resolution");n.viewport(0,0,e.clientWidth,e.clientHeight),n.uniform2f(s,e.clientWidth,e.clientHeight);var u=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,u),n.enableVertexAttribArray(c),n.vertexAttribPointer(c,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),{canvas:i,positionAttributeLocation:o,resolutionUniformLocation:s,webglContext:n}}(e)),setInterval(function(){x==e.clientWidth&&T==e.clientHeight||(x=e.clientWidth,T=e.clientHeight,"css3"==g?(v.style.width=x+"px",v.style.height=T+"px"):"canvas"==g?(r.style.width=x+"px",r.style.height=T+"px",r.width=x,r.height=T):"webgl"==g&&(p.canvas.style.width=x+"px",p.canvas.style.height=T+"px",p.canvas.width=x,p.canvas.height=T,p.webglContext.viewport(0,0,x,T),p.webglContext.uniform2f(p.resolutionUniformLocation,x,T)))},100),this.addBulletScreen=function(t){if((t=S(t,{})).uuid=S(""),t.text=S(t.text,"Empty"),t.boxColor=S(t.boxColor,null),t.speed=S(t.speed,.15),t.size=S(t.size,19),t.color=S(t.color,null),t.borderColor=S(t.borderColor,null),t.type=S(t.type,0),t.startTime=S(t.startTime,h.clock()),t.residenceTime=S(t.endTime,5e3),t.canDiscard=S(t.canDiscard,!0),t.type<=3){var e=o.getLength();o.forEach(function(e){if(t.startTime>e.startTime)return{add:{addToUp:!0,element:t},stop:!0}},!0),e==o.getLength()&&o.push(t,!1)}},this.play=function(){i||(t||(t=(new Date).getTime()),l&&(t+=h.clock()-l),i=!(n=null),requestAnimationFrame(b))},this.pause=function(){i&&(l=h.clock(),i=!1)},this.cleanBulletScreenList=function(){o.clean()},this.cleanBulletScreenListOnScreen=function(){f.clean(),"css3"===g?v.innerHTML="":"canvas"===g?r.getContext("2d").clearRect(0,0,x,T):"webgl"===g&&p.webglContext.clear(webglContext.COLOR_BUFFER_BIT)},this.stop=function(){i&&this.pause(),this.cleanBulletScreenList(),this.cleanBulletScreenListOnScreen(),l=0,t=null},this.hide=function(){a=!0,"css3"===g?v.style.visibility="hidden":"canvas"===g?r.style.visibility="hidden":"webgl"===g&&(p.canvas.style.visibility="hidden")},this.show=function(){a=!1,"css3"===g?v.style.visibility="visible":"canvas"===g?r.style.visibility="visible":"webgl"===g&&(p.canvas.style.visibility="visible")},this.setOpacity=function(e){u=e,"css3"===g?v.style.opacity=e:"canvas"===g?r.style.opacity=e:"webgl"===g&&(p.canvas.style.opacity=e)},this.getOpacity=function(){return u},this.getVisibility=function(){return!a},this.getRenderMode=function(){return g},this.getPlayState=function(){return i},this.getDebugInfo=function(){return{time:i?h.clock():l,bulletScreensOnScreenCount:f.getLength(),bulletScreensCount:o.getLength(),delay:y,delayBulletScreensCount:c,fps:i?parseInt(1e3*s):0}},this.getVersion=function(){return{version:C.VERSION,buildDate:C.BUILE_DATE}}}},{"./linkedList":4,"./version":5}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.LinkedList=void 0;i.LinkedList=function(){var l=function(e){this.element=e,this.next=null,this.previous=null},a=new l(null),o=new l(null),c=0;(a.next=o).previous=a,this.getLength=function(e){return c},this.push=function(e,t){var i=new l(e);t?(i.next=a.next,(i.previous=a).next=a.next.previous=i):(i.previous=o.previous,(i.next=o).previous=o.previous.next=i),c++},this.pop=function(e,t){var i;return t?(i=a.next,a.next!=o&&e&&((i.next.previous=a).next=i.next)):(i=o.previous,o.previous!=a&&e&&((i.previous.next=o).previous=i.previous)),e&&c--,i.element},this.clean=function(){a=new l(null),o=new l(null),(a.next=o).previous=a,c=0},this.forEach=function(e,t){for(var i=t?a:o;t?(i=i.next)!=o:(i=i.previous)!=a;){var n=e(i.element);if(n){if(n.add){var r=new l(n.add.element);n.add.addToUp?(r.previous=i.previous,(r.next=i).previous.next=r,i.previous=r):(r.previous=i,r.next=i.next,i.next.previous=r,i.next=r),c++}if(n.remove&&(i.previous.next=i.next,i.next.previous=i.previous,c--),n.stop)return}}}}},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BUILE_DATE=i.VERSION=void 0;i.VERSION="1.2";i.BUILE_DATE="Sat, 05 Jan 2019 16:12:23 GMT"},{}]},{},[2,3]);