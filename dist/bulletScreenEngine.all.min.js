!function l(o,a,c){function s(t,e){if(!a[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var r=a[t]={exports:{}};o[t][0].call(r.exports,function(e){return s(o[t][1][e]||e)},r,r.exports,l,o,a,c)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BulletScreenEngine=void 0;var _=e("./linkedList"),B=e("./version");i.BulletScreenEngine=function(e,h){var t,i,n,r,p,v,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas",l=0,a=new _.LinkedList,g=new _.LinkedList,c=0,y=0,s=.06,o=!1;(h=d(h,{})).verticalInterval=d(h.verticalInterval,8),h.playSpeed=d(h.playSpeed,1),h.clock=d(h.clock,function(e){return(new Date).getTime()-t}),h.shadowBlur=d(h.shadowBlur,2),h.scaling=d(h.scaling,1),h.timeOutDiscard=d(h.timeOutDiscard,!0),h.fontWeight=d(h.fontWeight,600),h.fontFamily=d(h.fontFamily,"sans-serif"),this.option=h;var m=e.clientWidth,u=e.clientHeight;function d(e,t){return void 0===e?t:"number"==typeof e&&isNaN(e)?t:null==e?t:e}function x(){var o,e=(new Date).getTime();null!=n&&(s=1/(e-n)),n=e,function(){0==g.getLength()&&(y=0);var e=.02<s?Math.ceil(1/s):1;do{var t=a.pop(!1,!1);if(null==t)return;var i=h.clock();if(t.startTime>i)return;!h.timeOutDiscard||!t.canDiscard||t.startTime>i-1/s*1.5?S(i,t):c++,a.pop(!0,!1),e--}while(0==g.getLength()||0<e)}(),g.forEach(function(e){var t=h.clock();switch(e.BulletScreen.type){case 0:if(!(e.x>-e.width))return"css3"===f&&p.removeChild(e.element),{remove:!0};e.x-=e.BulletScreen.speed*h.playSpeed/s;break;case 1:if(!(e.x<m))return"css3"===f&&p.removeChild(e.element),{remove:!0};e.x+=e.BulletScreen.speed*h.playSpeed/s;break;case 2:case 3:if(e.endTime<t)return"css3"===f&&p.removeChild(e.element),{remove:!0}}},!0),"css3"===f?g.forEach(function(e){e.element.style.transform="translate("+(e.x-4)+"px,"+(e.actualY-4)+"px)"},!0):"canvas"===f?function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height;var t=e.getContext("2d");g.forEach(function(e){t.drawImage(e.hideCanvas,e.x-4,e.actualY-4)},!0);var i=r.getContext("2d");i.clearRect(0,0,m,u),i.drawImage(e,0,0)}():"webgl"===f&&((o=v.webglContext).clear(o.COLOR_BUFFER_BIT),g.forEach(function(e){var t=e.x-4,i=t+e.width+8,n=e.actualY-4,r=n+e.height+8;o.bindTexture(o.TEXTURE_2D,e.texture2D);var l=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,l),o.enableVertexAttribArray(v.positionAttributeLocation),o.vertexAttribPointer(v.positionAttributeLocation,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,new Float32Array([t,n,i,n,t,r,t,r,i,n,i,r]),o.STATIC_DRAW),o.drawArrays(o.TRIANGLES,0,6)},!0)),i&&requestAnimationFrame(x)}function T(e){var t=document.createElement("canvas");t.width=e.width+8,t.height=e.height+8;var i=t.getContext("2d");return i.textBaseline="top",i.shadowColor="black",i.font=h.fontWeight+" "+e.size.toString()+"px "+h.fontFamily,null!=e.BulletScreen.color&&(i.shadowBlur=h.shadowBlur+.5,i.fillStyle=e.BulletScreen.color,i.fillText(e.BulletScreen.text,4,4)),null!=e.BulletScreen.borderColor&&(i.shadowBlur=0,i.lineWidth=.5,i.strokeStyle=e.BulletScreen.borderColor,i.strokeText(e.BulletScreen.text,4,4)),null!=e.BulletScreen.boxColor&&(i.shadowBlur=0,i.lineWidth=2,i.strokeStyle=e.BulletScreen.boxColor,i.strokeRect(0,0,e.width+8,e.height+8)),t}function S(i,t){y=i-t.startTime;var e,n,r,l,o,a,c={};if(c.BulletScreen=t,c.startTime=i,c.size=c.BulletScreen.size*h.scaling,c.height=c.size,"css3"===f)c.element=(o=(l=c).BulletScreen,(a=document.createElement("div")).className="BulletScreenDiv",a.setAttribute("data-uuid",o.uuid),a.style.position="absolute",a.style.webkitUserSelect="none",a.style.whiteSpace="nowrap",a.style.fontWeight=h.fontWeight,a.style.fontSize=l.size.toString()+"px",a.style.fontFamily=h.fontFamily,a.style.lineHeight=l.size.toString()+"px",a.style.padding="3px",a.style.textShadow="0 0 "+h.shadowBlur.toString()+"px black",null==o.color?a.style.color="rgba(0,0,0,0)":a.style.color=o.color,null!=o.borderColor&&(a.style.webkitTextStroke="0.5px",a.style.webkitTextStrokeColor=o.borderColor),null!=o.boxColor&&(a.style.border="1px solid",a.style.borderColor=o.boxColor),a.innerText=o.text,p.appendChild(a),a),c.width=c.element.clientWidth-8;else if("canvas"===f||"webgl"===f){var s=document.createElement("canvas").getContext("2d");s.font=h.fontWeight+" "+c.size.toString()+"px "+h.fontFamily,c.width=s.measureText(t.text).width,"canvas"===f?c.hideCanvas=T(c):c.texture2D=(e=T(c),n=v.webglContext,r=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),r)}switch(c.endTime=parseInt(i+(m+c.width)/(t.speed*h.playSpeed)),t.type){case 0:c.endTime=parseInt(i+(m+c.width)/(t.speed*h.playSpeed)),c.x=m,c.y=h.verticalInterval;break;case 1:c.endTime=parseInt(i+(m+c.width)/(t.speed*h.playSpeed)),c.x=-c.width,c.y=h.verticalInterval;break;case 2:c.endTime=c.startTime+t.residenceTime,c.x=parseInt((m-c.width)/2),c.y=h.verticalInterval;break;case 3:c.endTime=c.startTime+t.residenceTime,c.x=parseInt((m-c.width)/2),c.y=-h.verticalInterval-c.height}var u=g.getLength();if(1<t.type)g.forEach(function(e){if(e.BulletScreen.type==t.type)if(2==t.type){if(c.y+c.height<e.y)return{add:{addToUp:!0,element:w(c)},stop:!0};e.endTime<i?c.y=e.y:c.y=e.y+e.height+h.verticalInterval}else{if(c.y>e.y+e.height)return{add:{addToUp:!0,element:w(c)},stop:!0};e.endTime<i?c.y=e.y:c.y=e.y-c.height-h.verticalInterval}},!0);else{var d=c.width/(c.BulletScreen.speed*h.playSpeed);g.forEach(function(e){if(!(1<e.BulletScreen.type)){if(c.y+c.height<e.y)return{add:{addToUp:!0,element:w(c)},stop:!0};var t=e.width/(e.BulletScreen.speed*h.playSpeed);e.startTime+t>=i||e.endTime>=c.endTime-d?c.y=e.y+e.height+h.verticalInterval:c.y=e.y}},!0)}g.getLength()==u&&g.push(w(c),!1)}function w(e){var t=e.BulletScreen;return t.type<3?e.actualY=e.y%(u-e.height):3==t.type&&(e.actualY=u+e.y%u),e}function E(e){var t=document.createElement("canvas");return t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.width=e.clientWidth,t.height=e.clientHeight,e.innerHTML="",e.appendChild(t),t}function b(e){var t=document.createElement("div");return t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.style.overflow="hidden",t.style.position="relative",t.style.padding="0",t.style.margin="0",e.innerHTML="",e.appendChild(t),t}"css3"==f?p=b(e):"canvas"==f?r=E(e):"webgl"==f&&(v=function(e){var t=function(e,t,i){var n=e.createShader(t);e.shaderSource(n,i),e.compileShader(n);var r=e.getShaderParameter(n,e.COMPILE_STATUS);if(r)return n;e.deleteShader(n)},i=E(e),n=i.getContext("webgl");n.enable(n.BLEND),n.clearColor(0,0,0,0),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA);var r=t(n,n.VERTEX_SHADER,"attribute vec2 a_position;attribute vec2 a_texcoord;uniform vec2 u_resolution;varying vec2 v_texcoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texcoord = a_texcoord;}"),l=t(n,n.FRAGMENT_SHADER,"precision mediump float;varying vec2 v_texcoord;uniform sampler2D u_texture;void main() {gl_FragColor = texture2D(u_texture, v_texcoord);}"),o=function(e,t,i){var n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,i),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))return n;e.deleteProgram(n)}(n,r,l);n.useProgram(o);var a=n.getAttribLocation(o,"a_position"),c=n.getAttribLocation(o,"a_texcoord"),s=n.getUniformLocation(o,"u_resolution");n.viewport(0,0,e.clientWidth,e.clientHeight),n.uniform2f(s,e.clientWidth,e.clientHeight);var u=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,u),n.enableVertexAttribArray(c),n.vertexAttribPointer(c,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),{canvas:i,positionAttributeLocation:a,resolutionUniformLocation:s,webglContext:n}}(e)),setInterval(function(){m==e.clientWidth&&u==e.clientHeight||(m=e.clientWidth,u=e.clientHeight,"css3"==f?(p.style.width=m+"px",p.style.height=u+"px"):"canvas"==f?(r.style.width=m+"px",r.style.height=u+"px",r.width=m,r.height=u):"webgl"==f&&(v.canvas.style.width=m+"px",v.canvas.style.height=u+"px",v.canvas.width=m,v.canvas.height=u,v.webglContext.viewport(0,0,m,u),v.webglContext.uniform2f(v.resolutionUniformLocation,m,u)))},100),this.addBulletScreen=function(t){if((t=d(t,{})).uuid=d(""),t.text=d(t.text,"Empty"),t.boxColor=d(t.boxColor,null),t.speed=d(t.speed,.15),t.size=d(t.size,19),t.color=d(t.color,null),t.borderColor=d(t.borderColor,null),t.type=d(t.type,0),t.startTime=d(t.startTime,h.clock()),t.residenceTime=d(t.endTime,5e3),t.canDiscard=d(t.canDiscard,!0),t.type<=3){var e=a.getLength();a.forEach(function(e){if(t.startTime>e.startTime)return{add:{addToUp:!0,element:t},stop:!0}},!0),e==a.getLength()&&a.push(t,!1)}},this.play=function(){i||(t||(t=(new Date).getTime()),l&&(t+=h.clock()-l),i=!(n=null),requestAnimationFrame(x))},this.pause=function(){i&&(l=h.clock(),i=!1)},this.cleanBulletScreenList=function(){a.clean()},this.cleanBulletScreenListOnScreen=function(){g.clean(),p&&(p.innerHTML="")},this.stop=function(){i&&this.pause(),l=0,t=null,this.cleanBulletScreenList(),this.cleanBulletScreenListOnScreen(),"css3"===f?p=b(e):"canvas"!==f&&"webgl"!==f||(r=E(e))},this.hide=function(){o=!0,r?r.style.visibility="hidden":p.style.visibility="hidden"},this.show=function(){o=!1,r?r.style.visibility="visible":p.style.visibility="visible"},this.getVisibility=function(){return!o},this.getPlayState=function(){return i},this.getDebugInfo=function(){return{time:i?h.clock():l,bulletScreensOnScreenCount:g.getLength(),bulletScreensCount:a.getLength(),delay:y,delayBulletScreensCount:c,fps:i?parseInt(1e3*s):0}},this.getVersion=function(){return{version:B.VERSION,buildDate:B.BUILE_DATE}}}},{"./linkedList":4,"./version":5}],2:[function(e,t,i){"use strict";var n=e("./BulletScreenEngine");window.BulletScreenEngine=n.BulletScreenEngine},{"./BulletScreenEngine":1}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BulletScreenEngine=void 0;var _=e("./linkedList"),B=e("./version");i.BulletScreenEngine=function(e,h){var t,i,n,r,p,v,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas",l=0,a=new _.LinkedList,g=new _.LinkedList,c=0,y=0,s=.06,o=!1;(h=d(h,{})).verticalInterval=d(h.verticalInterval,8),h.playSpeed=d(h.playSpeed,1),h.clock=d(h.clock,function(e){return(new Date).getTime()-t}),h.shadowBlur=d(h.shadowBlur,2),h.scaling=d(h.scaling,1),h.timeOutDiscard=d(h.timeOutDiscard,!0),h.fontWeight=d(h.fontWeight,600),h.fontFamily=d(h.fontFamily,"sans-serif"),this.option=h;var m=e.clientWidth,u=e.clientHeight;function d(e,t){return void 0===e?t:"number"==typeof e&&isNaN(e)?t:null==e?t:e}function x(){var o,e=(new Date).getTime();null!=n&&(s=1/(e-n)),n=e,function(){0==g.getLength()&&(y=0);var e=.02<s?Math.ceil(1/s):1;do{var t=a.pop(!1,!1);if(null==t)return;var i=h.clock();if(t.startTime>i)return;!h.timeOutDiscard||!t.canDiscard||t.startTime>i-1/s*1.5?S(i,t):c++,a.pop(!0,!1),e--}while(0==g.getLength()||0<e)}(),g.forEach(function(e){var t=h.clock();switch(e.BulletScreen.type){case 0:if(!(e.x>-e.width))return"css3"===f&&p.removeChild(e.element),{remove:!0};e.x-=e.BulletScreen.speed*h.playSpeed/s;break;case 1:if(!(e.x<m))return"css3"===f&&p.removeChild(e.element),{remove:!0};e.x+=e.BulletScreen.speed*h.playSpeed/s;break;case 2:case 3:if(e.endTime<t)return"css3"===f&&p.removeChild(e.element),{remove:!0}}},!0),"css3"===f?g.forEach(function(e){e.element.style.transform="translate("+(e.x-4)+"px,"+(e.actualY-4)+"px)"},!0):"canvas"===f?function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height;var t=e.getContext("2d");g.forEach(function(e){t.drawImage(e.hideCanvas,e.x-4,e.actualY-4)},!0);var i=r.getContext("2d");i.clearRect(0,0,m,u),i.drawImage(e,0,0)}():"webgl"===f&&((o=v.webglContext).clear(o.COLOR_BUFFER_BIT),g.forEach(function(e){var t=e.x-4,i=t+e.width+8,n=e.actualY-4,r=n+e.height+8;o.bindTexture(o.TEXTURE_2D,e.texture2D);var l=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,l),o.enableVertexAttribArray(v.positionAttributeLocation),o.vertexAttribPointer(v.positionAttributeLocation,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,new Float32Array([t,n,i,n,t,r,t,r,i,n,i,r]),o.STATIC_DRAW),o.drawArrays(o.TRIANGLES,0,6)},!0)),i&&requestAnimationFrame(x)}function T(e){var t=document.createElement("canvas");t.width=e.width+8,t.height=e.height+8;var i=t.getContext("2d");return i.textBaseline="top",i.shadowColor="black",i.font=h.fontWeight+" "+e.size.toString()+"px "+h.fontFamily,null!=e.BulletScreen.color&&(i.shadowBlur=h.shadowBlur+.5,i.fillStyle=e.BulletScreen.color,i.fillText(e.BulletScreen.text,4,4)),null!=e.BulletScreen.borderColor&&(i.shadowBlur=0,i.lineWidth=.5,i.strokeStyle=e.BulletScreen.borderColor,i.strokeText(e.BulletScreen.text,4,4)),null!=e.BulletScreen.boxColor&&(i.shadowBlur=0,i.lineWidth=2,i.strokeStyle=e.BulletScreen.boxColor,i.strokeRect(0,0,e.width+8,e.height+8)),t}function S(i,t){y=i-t.startTime;var e,n,r,l,o,a,c={};if(c.BulletScreen=t,c.startTime=i,c.size=c.BulletScreen.size*h.scaling,c.height=c.size,"css3"===f)c.element=(o=(l=c).BulletScreen,(a=document.createElement("div")).className="BulletScreenDiv",a.setAttribute("data-uuid",o.uuid),a.style.position="absolute",a.style.webkitUserSelect="none",a.style.whiteSpace="nowrap",a.style.fontWeight=h.fontWeight,a.style.fontSize=l.size.toString()+"px",a.style.fontFamily=h.fontFamily,a.style.lineHeight=l.size.toString()+"px",a.style.padding="3px",a.style.textShadow="0 0 "+h.shadowBlur.toString()+"px black",null==o.color?a.style.color="rgba(0,0,0,0)":a.style.color=o.color,null!=o.borderColor&&(a.style.webkitTextStroke="0.5px",a.style.webkitTextStrokeColor=o.borderColor),null!=o.boxColor&&(a.style.border="1px solid",a.style.borderColor=o.boxColor),a.innerText=o.text,p.appendChild(a),a),c.width=c.element.clientWidth-8;else if("canvas"===f||"webgl"===f){var s=document.createElement("canvas").getContext("2d");s.font=h.fontWeight+" "+c.size.toString()+"px "+h.fontFamily,c.width=s.measureText(t.text).width,"canvas"===f?c.hideCanvas=T(c):c.texture2D=(e=T(c),n=v.webglContext,r=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),r)}switch(c.endTime=parseInt(i+(m+c.width)/(t.speed*h.playSpeed)),t.type){case 0:c.endTime=parseInt(i+(m+c.width)/(t.speed*h.playSpeed)),c.x=m,c.y=h.verticalInterval;break;case 1:c.endTime=parseInt(i+(m+c.width)/(t.speed*h.playSpeed)),c.x=-c.width,c.y=h.verticalInterval;break;case 2:c.endTime=c.startTime+t.residenceTime,c.x=parseInt((m-c.width)/2),c.y=h.verticalInterval;break;case 3:c.endTime=c.startTime+t.residenceTime,c.x=parseInt((m-c.width)/2),c.y=-h.verticalInterval-c.height}var u=g.getLength();if(1<t.type)g.forEach(function(e){if(e.BulletScreen.type==t.type)if(2==t.type){if(c.y+c.height<e.y)return{add:{addToUp:!0,element:w(c)},stop:!0};e.endTime<i?c.y=e.y:c.y=e.y+e.height+h.verticalInterval}else{if(c.y>e.y+e.height)return{add:{addToUp:!0,element:w(c)},stop:!0};e.endTime<i?c.y=e.y:c.y=e.y-c.height-h.verticalInterval}},!0);else{var d=c.width/(c.BulletScreen.speed*h.playSpeed);g.forEach(function(e){if(!(1<e.BulletScreen.type)){if(c.y+c.height<e.y)return{add:{addToUp:!0,element:w(c)},stop:!0};var t=e.width/(e.BulletScreen.speed*h.playSpeed);e.startTime+t>=i||e.endTime>=c.endTime-d?c.y=e.y+e.height+h.verticalInterval:c.y=e.y}},!0)}g.getLength()==u&&g.push(w(c),!1)}function w(e){var t=e.BulletScreen;return t.type<3?e.actualY=e.y%(u-e.height):3==t.type&&(e.actualY=u+e.y%u),e}function E(e){var t=document.createElement("canvas");return t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.width=e.clientWidth,t.height=e.clientHeight,e.innerHTML="",e.appendChild(t),t}function b(e){var t=document.createElement("div");return t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.style.overflow="hidden",t.style.position="relative",t.style.padding="0",t.style.margin="0",e.innerHTML="",e.appendChild(t),t}"css3"==f?p=b(e):"canvas"==f?r=E(e):"webgl"==f&&(v=function(e){var t=function(e,t,i){var n=e.createShader(t);e.shaderSource(n,i),e.compileShader(n);var r=e.getShaderParameter(n,e.COMPILE_STATUS);if(r)return n;e.deleteShader(n)},i=E(e),n=i.getContext("webgl");n.enable(n.BLEND),n.clearColor(0,0,0,0),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA);var r=t(n,n.VERTEX_SHADER,"attribute vec2 a_position;attribute vec2 a_texcoord;uniform vec2 u_resolution;varying vec2 v_texcoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texcoord = a_texcoord;}"),l=t(n,n.FRAGMENT_SHADER,"precision mediump float;varying vec2 v_texcoord;uniform sampler2D u_texture;void main() {gl_FragColor = texture2D(u_texture, v_texcoord);}"),o=function(e,t,i){var n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,i),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))return n;e.deleteProgram(n)}(n,r,l);n.useProgram(o);var a=n.getAttribLocation(o,"a_position"),c=n.getAttribLocation(o,"a_texcoord"),s=n.getUniformLocation(o,"u_resolution");n.viewport(0,0,e.clientWidth,e.clientHeight),n.uniform2f(s,e.clientWidth,e.clientHeight);var u=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,u),n.enableVertexAttribArray(c),n.vertexAttribPointer(c,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),{canvas:i,positionAttributeLocation:a,resolutionUniformLocation:s,webglContext:n}}(e)),setInterval(function(){m==e.clientWidth&&u==e.clientHeight||(m=e.clientWidth,u=e.clientHeight,"css3"==f?(p.style.width=m+"px",p.style.height=u+"px"):"canvas"==f?(r.style.width=m+"px",r.style.height=u+"px",r.width=m,r.height=u):"webgl"==f&&(v.canvas.style.width=m+"px",v.canvas.style.height=u+"px",v.canvas.width=m,v.canvas.height=u,v.webglContext.viewport(0,0,m,u),v.webglContext.uniform2f(v.resolutionUniformLocation,m,u)))},100),this.addBulletScreen=function(t){if((t=d(t,{})).uuid=d(""),t.text=d(t.text,"Empty"),t.boxColor=d(t.boxColor,null),t.speed=d(t.speed,.15),t.size=d(t.size,19),t.color=d(t.color,null),t.borderColor=d(t.borderColor,null),t.type=d(t.type,0),t.startTime=d(t.startTime,h.clock()),t.residenceTime=d(t.endTime,5e3),t.canDiscard=d(t.canDiscard,!0),t.type<=3){var e=a.getLength();a.forEach(function(e){if(t.startTime>e.startTime)return{add:{addToUp:!0,element:t},stop:!0}},!0),e==a.getLength()&&a.push(t,!1)}},this.play=function(){i||(t||(t=(new Date).getTime()),l&&(t+=h.clock()-l),i=!(n=null),requestAnimationFrame(x))},this.pause=function(){i&&(l=h.clock(),i=!1)},this.cleanBulletScreenList=function(){a.clean()},this.cleanBulletScreenListOnScreen=function(){g.clean(),p&&(p.innerHTML="")},this.stop=function(){i&&this.pause(),l=0,t=null,this.cleanBulletScreenList(),this.cleanBulletScreenListOnScreen(),"css3"===f?p=b(e):"canvas"!==f&&"webgl"!==f||(r=E(e))},this.hide=function(){o=!0,r?r.style.visibility="hidden":p.style.visibility="hidden"},this.show=function(){o=!1,r?r.style.visibility="visible":p.style.visibility="visible"},this.getVisibility=function(){return!o},this.getPlayState=function(){return i},this.getDebugInfo=function(){return{time:i?h.clock():l,bulletScreensOnScreenCount:g.getLength(),bulletScreensCount:a.getLength(),delay:y,delayBulletScreensCount:c,fps:i?parseInt(1e3*s):0}},this.getVersion=function(){return{version:B.VERSION,buildDate:B.BUILE_DATE}}}},{"./linkedList":4,"./version":5}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.LinkedList=void 0;i.LinkedList=function(){var l=function(e){this.element=e,this.next=null,this.previous=null},o=new l(null),a=new l(null),c=0;(o.next=a).previous=o,this.getLength=function(e){return c},this.push=function(e,t){var i=new l(e);t?(i.next=o.next,(i.previous=o).next=o.next.previous=i):(i.previous=a.previous,(i.next=a).previous=a.previous.next=i),c++},this.pop=function(e,t){var i;return t?(i=o.next,o.next!=a&&e&&((i.next.previous=o).next=i.next)):(i=a.previous,a.previous!=o&&e&&((i.previous.next=a).previous=i.previous)),e&&c--,i.element},this.clean=function(){o=new l(null),a=new l(null),(o.next=a).previous=o,c=0},this.forEach=function(e,t){for(var i=t?o:a;t?(i=i.next)!=a:(i=i.previous)!=o;){var n=e(i.element);if(n){if(n.add){var r=new l(n.add.element);n.add.addToUp?(r.previous=i.previous,(r.next=i).previous.next=r,i.previous=r):(r.previous=i,r.next=i.next,i.next.previous=r,i.next=r),c++}if(n.remove&&(i.previous.next=i.next,i.next.previous=i.previous,c--),n.stop)return}}}}},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BUILE_DATE=i.VERSION=void 0;i.VERSION="1.1";i.BUILE_DATE="Sat, 05 Jan 2019 07:09:01 GMT"},{}]},{},[2,3]);