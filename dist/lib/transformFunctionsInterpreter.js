"use strict";

require("core-js/modules/es.symbol");

require("core-js/modules/es.symbol.description");

require("core-js/modules/es.symbol.iterator");

require("core-js/modules/es.array.concat");

require("core-js/modules/es.array.iterator");

require("core-js/modules/es.object.define-property");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.parse-float");

require("core-js/modules/es.regexp.exec");

require("core-js/modules/es.string.iterator");

require("core-js/modules/web.dom-collections.iterator");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _helper = _interopRequireDefault(require("./helper"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var TransformFunctionsInterpreter = function () {
  function TransformFunctionsInterpreter() {
    _classCallCheck(this, TransformFunctionsInterpreter);

    var functionStartCharRegex = /^[_a-zA-Z]$/;
    var functionCharRegex = /^\w$/;
    var ParameterChar = /^[\-.%0-9a-zA-Z]$/;
    var valueRegex = /^-?\d+(\.\d+)?/;
    var unitRegex = /[a-zA-Z]*$/;
    var numberRegex = /^-?\d+(\.\d+)?$/;
    var angleRegex = /^(-?\d+(\.\d+)?(deg)|(grad)|(rad)|(turn))|0$/;
    var lengthRegex = /^(\d+(\.\d+)?px)|0$/;

    this.toObject = function (transformFunctionsCode) {
      if (_helper["default"].isEmpty(transformFunctionsCode)) return {};
      var states = 0;
      var object = {};
      var functionName = null;
      var parameter = null;
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = transformFunctionsCode[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _char = _step.value;

          switch (states) {
            case 0:
              if (functionStartCharRegex.test(_char)) {
                functionName = _char;
                states = 1;
              } else if (_char != ' ') throw new SyntaxError();

              break;

            case 1:
              if (functionCharRegex.test(_char)) {
                functionName = functionName.concat(_char);
              } else if (_char === '(') {
                if (typeof object[functionName] != 'undefined') throw new SyntaxError();
                object[functionName] = [];
                states = 2;
              } else if (_char === ' ') {
                object[functionName] = null;
                states = 0;
              } else throw new SyntaxError();

              break;

            case 2:
              if (ParameterChar.test(_char)) {
                parameter = _char;
                states = 3;
              } else if (_char != ' ') throw new SyntaxError();

              break;

            case 3:
              if (ParameterChar.test(_char)) {
                parameter = parameter.concat(_char);
              } else if (_char === ',') {
                object[functionName].push(parameter);
                states = 2;
              } else if (_char === ')') {
                object[functionName].push(parameter);
                states = 0;
              } else if (_char === ' ') states = 4;else throw new SyntaxError();

              break;

            case 4:
              if (_char === ',') {
                object[functionName].push(parameter);
                states = 2;
              } else if (_char === ')') {
                object[functionName].push(parameter);
                states = 0;
              } else if (_char != ' ') throw new SyntaxError();

              break;
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator["return"] != null) {
            _iterator["return"]();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return check(object);
    };

    var valueCheck = {
      number: function number(value) {
        if (!numberRegex.test(value)) throw new TypeError();
        return {
          type: 'number',
          value: parseFloat(value),
          unit: ''
        };
      },
      angle: function angle(value) {
        if (!angleRegex.test(value)) throw new TypeError();
        return {
          type: 'angle',
          value: parseFloat(valueRegex.exec(value)[0]),
          unit: unitRegex.exec(value)[0]
        };
      },
      length: function length(value) {
        if (!lengthRegex.test(value)) throw new TypeError();
        return {
          type: 'length',
          value: parseFloat(valueRegex.exec(value)[0]),
          unit: unitRegex.exec(value)[0]
        };
      }
    };
    var functionCheck = {
      matrix: function matrix(parameters) {
        if (parameters === null | parameters.length != 6) throw new SyntaxError();
        return {
          a: valueCheck.number(parameters[0]),
          b: valueCheck.number(parameters[1]),
          c: valueCheck.number(parameters[2]),
          d: valueCheck.number(parameters[3]),
          tx: valueCheck.number(parameters[4]),
          ty: valueCheck.number(parameters[5])
        };
      },
      translate: function translate(parameters) {
        if (parameters === null | parameters.length < 1 | parameters.length > 2) throw new SyntaxError();
        var tx = valueCheck.length(parameters[0]);
        return {
          tx: tx,
          ty: parameters.length === 2 ? valueCheck.length(parameters[1]) : tx
        };
      },
      translateX: function translateX(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          t: valueCheck.length(parameters[0])
        };
      },
      translateY: function translateY(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          t: valueCheck.length(parameters[0])
        };
      },
      scale: function scale(parameters) {
        if (parameters === null | parameters.length < 1 | parameters.length > 2) throw new SyntaxError();
        var sx = valueCheck.number(parameters[0]);
        return {
          sx: sx,
          sy: parameters.length === 2 ? valueCheck.number(parameters[1]) : sx
        };
      },
      scaleX: function scaleX(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          s: valueCheck.number(parameters[0])
        };
      },
      scaleY: function scaleY(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          s: valueCheck.number(parameters[0])
        };
      },
      rotate: function rotate(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          a: valueCheck.angle(parameters[0])
        };
      },
      skew: function skew(parameters) {
        if (parameters === null | parameters.length < 1 | parameters.length > 2) throw new SyntaxError();
        var ax = valueCheck.angle(parameters[0]);
        return {
          ax: ax,
          ay: parameters.length === 2 ? valueCheck.angle(parameters[1]) : ax
        };
      },
      skewX: function skewX(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          a: valueCheck.angle(parameters[0])
        };
      },
      skewY: function skewY(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          a: valueCheck.angle(parameters[0])
        };
      },
      matrix3d: function matrix3d(parameters) {
        if (parameters === null | parameters.length != 16) throw new SyntaxError();
        return {
          a1: valueCheck.number(parameters[0]),
          b1: valueCheck.number(parameters[1]),
          c1: valueCheck.number(parameters[2]),
          d1: valueCheck.number(parameters[3]),
          a2: valueCheck.number(parameters[4]),
          b2: valueCheck.number(parameters[5]),
          c2: valueCheck.number(parameters[6]),
          d2: valueCheck.number(parameters[7]),
          a3: valueCheck.number(parameters[8]),
          b3: valueCheck.number(parameters[9]),
          c3: valueCheck.number(parameters[10]),
          d3: valueCheck.number(parameters[11]),
          a4: valueCheck.number(parameters[12]),
          b4: valueCheck.number(parameters[13]),
          c4: valueCheck.number(parameters[14]),
          d4: valueCheck.number(parameters[15])
        };
      },
      translate3d: function translate3d(parameters) {
        if (parameters === null | parameters.length != 3) throw new SyntaxError();
        return {
          tx: valueCheck.length(parameters[0]),
          ty: valueCheck.length(parameters[1]),
          tz: valueCheck.length(parameters[2])
        };
      },
      translateZ: function translateZ(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          t: valueCheck.length(parameters[0])
        };
      },
      scale3d: function scale3d(parameters) {
        if (parameters === null | parameters.length != 3) throw new SyntaxError();
        return {
          sx: valueCheck.number(parameters[0]),
          sy: valueCheck.number(parameters[1]),
          sz: valueCheck.number(parameters[2])
        };
      },
      scaleZ: function scaleZ(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          s: valueCheck.number(parameters[0])
        };
      },
      rotate3d: function rotate3d(parameters) {
        if (parameters === null | parameters.length != 4) throw new SyntaxError();
        return {
          x: valueCheck.number(parameters[0]),
          y: valueCheck.number(parameters[1]),
          z: valueCheck.number(parameters[2]),
          a: valueCheck.angle(parameters[3])
        };
      },
      rotateX: function rotateX(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          a: valueCheck.angle(parameters[0])
        };
      },
      rotateY: function rotateY(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          a: valueCheck.angle(parameters[0])
        };
      },
      rotateZ: function rotateZ(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          a: valueCheck.angle(parameters[0])
        };
      },
      perspective: function perspective(parameters) {
        if (parameters === null | parameters.length != 1) throw new SyntaxError();
        return {
          l: valueCheck.length(parameters[0])
        };
      }
    };

    function check(object) {
      var _object = {};

      for (var functionName in object) {
        _object[functionName] = functionCheck[functionName](object[functionName]);
      }

      return _object;
    }
  }

  _createClass(TransformFunctionsInterpreter, null, [{
    key: "getAngleValue",
    value: function getAngleValue(angleObject) {
      if (angleObject.type != 'angle') throw new RangeError();

      switch (angleObject.unit) {
        case 'deg':
          return angleObject.value * Math.PI / 180;

        case 'grad':
          return angleObject.value * Math.PI / 200;

        case 'rad':
          return angleObject.value;

        case 'turn':
          return angleObject.value * 2 * Math.PI;

        default:
          throw new RangeError();
      }
    }
  }]);

  return TransformFunctionsInterpreter;
}();

exports["default"] = TransformFunctionsInterpreter;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi90cmFuc2Zvcm1GdW5jdGlvbnNJbnRlcnByZXRlci5qcyJdLCJuYW1lcyI6WyJUcmFuc2Zvcm1GdW5jdGlvbnNJbnRlcnByZXRlciIsImZ1bmN0aW9uU3RhcnRDaGFyUmVnZXgiLCJmdW5jdGlvbkNoYXJSZWdleCIsIlBhcmFtZXRlckNoYXIiLCJ2YWx1ZVJlZ2V4IiwidW5pdFJlZ2V4IiwibnVtYmVyUmVnZXgiLCJhbmdsZVJlZ2V4IiwibGVuZ3RoUmVnZXgiLCJ0b09iamVjdCIsInRyYW5zZm9ybUZ1bmN0aW9uc0NvZGUiLCJIZWxwZXIiLCJpc0VtcHR5Iiwic3RhdGVzIiwib2JqZWN0IiwiZnVuY3Rpb25OYW1lIiwicGFyYW1ldGVyIiwiY2hhciIsInRlc3QiLCJTeW50YXhFcnJvciIsImNvbmNhdCIsInB1c2giLCJjaGVjayIsInZhbHVlQ2hlY2siLCJudW1iZXIiLCJ2YWx1ZSIsIlR5cGVFcnJvciIsInR5cGUiLCJwYXJzZUZsb2F0IiwidW5pdCIsImFuZ2xlIiwiZXhlYyIsImxlbmd0aCIsImZ1bmN0aW9uQ2hlY2siLCJtYXRyaXgiLCJwYXJhbWV0ZXJzIiwiYSIsImIiLCJjIiwiZCIsInR4IiwidHkiLCJ0cmFuc2xhdGUiLCJ0cmFuc2xhdGVYIiwidCIsInRyYW5zbGF0ZVkiLCJzY2FsZSIsInN4Iiwic3kiLCJzY2FsZVgiLCJzIiwic2NhbGVZIiwicm90YXRlIiwic2tldyIsImF4IiwiYXkiLCJza2V3WCIsInNrZXdZIiwibWF0cml4M2QiLCJhMSIsImIxIiwiYzEiLCJkMSIsImEyIiwiYjIiLCJjMiIsImQyIiwiYTMiLCJiMyIsImMzIiwiZDMiLCJhNCIsImI0IiwiYzQiLCJkNCIsInRyYW5zbGF0ZTNkIiwidHoiLCJ0cmFuc2xhdGVaIiwic2NhbGUzZCIsInN6Iiwic2NhbGVaIiwicm90YXRlM2QiLCJ4IiwieSIsInoiLCJyb3RhdGVYIiwicm90YXRlWSIsInJvdGF0ZVoiLCJwZXJzcGVjdGl2ZSIsImwiLCJfb2JqZWN0IiwiYW5nbGVP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LENBQUQsQ0FBNUI7QUFEQSxTQUFQO0FBR0g7QUFwTGlCLEtBQXRCOztBQXNMQSxhQUFTYixLQUFULENBQWVSLE1BQWYsRUFBdUI7QUFDbkIsVUFBSTRFLE9BQU8sR0FBRyxFQUFkOztBQUNBLFdBQUssSUFBSTNFLFlBQVQsSUFBeUJELE1BQXpCO0FBQ0k0RSxRQUFBQSxPQUFPLENBQUMzRSxZQUFELENBQVAsR0FBd0JrQixhQUFhLENBQUNsQixZQUFELENBQWIsQ0FBNEJELE1BQU0sQ0FBQ0MsWUFBRCxDQUFsQyxDQUF4QjtBQURKOztBQUVBLGFBQU8yRSxPQUFQO0FBQ0g7QUFDSjs7OztrQ0FDb0JDLFcsRUFBYTtBQUM5QixVQUFJQSxXQUFXLENBQUNoRSxJQUFaLElBQW9CLE9BQXhCLEVBQWlDLE1BQU0sSUFBSWlFLFVBQUosRUFBTjs7QUFDakMsY0FBUUQsV0FBVyxDQUFDOUQsSUFBcEI7QUFDSSxhQUFLLEtBQUw7QUFBWSxpQkFBTzhELFdBQVcsQ0FBQ2xFLEtBQVosR0FBb0JvRSxJQUFJLENBQUNDLEVBQXpCLEdBQThCLEdBQXJDOztBQUNaLGFBQUssTUFBTDtBQUFhLGlCQUFPSCxXQUFXLENBQUNsRSxLQUFaLEdBQW9Cb0UsSUFBSSxDQUFDQyxFQUF6QixHQUE4QixHQUFyQzs7QUFDYixhQUFLLEtBQUw7QUFBWSxpQkFBT0gsV0FBVyxDQUFDbEUsS0FBbkI7O0FBQ1osYUFBSyxNQUFMO0FBQWEsaUJBQU9rRSxXQUFXLENBQUNsRSxLQUFaLEdBQW9CLENBQXBCLEdBQXdCb0UsSUFBSSxDQUFDQyxFQUFwQzs7QUFDYjtBQUFTLGdCQUFNLElBQUlGLFVBQUosRUFBTjtBQUxiO0FBT0giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGVscGVyIGZyb20gJy4vaGVscGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc2Zvcm1GdW5jdGlvbnNJbnRlcnByZXRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uU3RhcnRDaGFyUmVnZXggPSAvXltfYS16QS1aXSQvO1xuICAgICAgICBjb25zdCBmdW5jdGlvbkNoYXJSZWdleCA9IC9eXFx3JC87XG4gICAgICAgIGNvbnN0IFBhcmFtZXRlckNoYXIgPSAvXltcXC0uJTAtOWEtekEtWl0kLztcblxuICAgICAgICBjb25zdCB2YWx1ZVJlZ2V4ID0gL14tP1xcZCsoXFwuXFxkKyk/LztcbiAgICAgICAgY29uc3QgdW5pdFJlZ2V4ID0gL1thLXpBLVpdKiQvO1xuXG4gICAgICAgIGNvbnN0IG51bWJlclJlZ2V4ID0gL14tP1xcZCsoXFwuXFxkKyk/JC87XG4gICAgICAgIGNvbnN0IGFuZ2xlUmVnZXggPSAvXigtP1xcZCsoXFwuXFxkKyk/KGRlZyl8KGdyYWQpfChyYWQpfCh0dXJuKSl8MCQvO1xuICAgICAgICBjb25zdCBsZW5ndGhSZWdleCA9IC9eKFxcZCsoXFwuXFxkKyk/cHgpfDAkLztcblxuICAgICAgICB0aGlzLnRvT2JqZWN0ID0gZnVuY3Rpb24gKHRyYW5zZm9ybUZ1bmN0aW9uc0NvZGUpIHtcbiAgICAgICAgICAgIGlmIChIZWxwZXIuaXNFbXB0eSh0cmFuc2Zvcm1GdW5jdGlvbnNDb2RlKSkgcmV0dXJuIHt9O1xuXG4gICAgICAgICAgICBsZXQgc3RhdGVzID0gMDtcbiAgICAgICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgIGxldCBmdW5jdGlvbk5hbWUgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHBhcmFtZXRlciA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGFyIG9mIHRyYW5zZm9ybUZ1bmN0aW9uc0NvZGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXRlcykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY3Rpb25TdGFydENoYXJSZWdleC50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lID0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZXMgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyICE9ICcgJykgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uQ2hhclJlZ2V4LnRlc3QoY2hhcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbk5hbWUgPSBmdW5jdGlvbk5hbWUuY29uY2F0KGNoYXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnKCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdFtmdW5jdGlvbk5hbWVdICE9ICd1bmRlZmluZWQnKSB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RbZnVuY3Rpb25OYW1lXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlcyA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICcgJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFtmdW5jdGlvbk5hbWVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQYXJhbWV0ZXJDaGFyLnRlc3QoY2hhcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXIgPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlcyA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXIgIT0gJyAnKSB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUGFyYW1ldGVyQ2hhci50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyID0gcGFyYW1ldGVyLmNvbmNhdChjaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJywnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0W2Z1bmN0aW9uTmFtZV0ucHVzaChwYXJhbWV0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlcyA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICcpJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFtmdW5jdGlvbk5hbWVdLnB1c2gocGFyYW1ldGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnICcpIHN0YXRlcyA9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnLCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RbZnVuY3Rpb25OYW1lXS5wdXNoKHBhcmFtZXRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJyknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0W2Z1bmN0aW9uTmFtZV0ucHVzaChwYXJhbWV0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXIgIT0gJyAnKSB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVDaGVjayA9IHtcbiAgICAgICAgICAgIG51bWJlcjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFudW1iZXJSZWdleC50ZXN0KHZhbHVlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFyc2VGbG9hdCh2YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIHVuaXQ6ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuZ2xlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFuZ2xlUmVnZXgudGVzdCh2YWx1ZSkpIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYW5nbGUnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFyc2VGbG9hdCh2YWx1ZVJlZ2V4LmV4ZWModmFsdWUpWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgdW5pdDogdW5pdFJlZ2V4LmV4ZWModmFsdWUpWzBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlbmd0aDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsZW5ndGhSZWdleC50ZXN0KHZhbHVlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsZW5ndGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFyc2VGbG9hdCh2YWx1ZVJlZ2V4LmV4ZWModmFsdWUpWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgdW5pdDogdW5pdFJlZ2V4LmV4ZWModmFsdWUpWzBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uQ2hlY2sgPSB7XG4gICAgICAgICAgICBtYXRyaXg6IGZ1bmN0aW9uIChwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlcnMgPT09IG51bGwgfCBwYXJhbWV0ZXJzLmxlbmd0aCAhPSA2KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhOiB2YWx1ZUNoZWNrLm51bWJlcihwYXJhbWV0ZXJzWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgYjogdmFsdWVDaGVjay5udW1iZXIocGFyYW1ldGVyc1sxXSksXG4gICAgICAgICAgICAgICAgICAgIGM6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMl0pLFxuICAgICAgICAgICAgICAgICAgICBkOiB2YWx1ZUNoZWNrLm51bWJlcihwYXJhbWV0ZXJzWzNdKSxcbiAgICAgICAgICAgICAgICAgICAgdHg6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbNF0pLFxuICAgICAgICAgICAgICAgICAgICB0eTogdmFsdWVDaGVjay5udW1iZXIocGFyYW1ldGVyc1s1XSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhbnNsYXRlOiBmdW5jdGlvbiAocGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzID09PSBudWxsIHwgcGFyYW1ldGVycy5sZW5ndGggPCAxIHwgcGFyYW1ldGVycy5sZW5ndGggPiAyKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgICAgICAgICBsZXQgdHggPSB2YWx1ZUNoZWNrLmxlbmd0aChwYXJhbWV0ZXJzWzBdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eDogdHgsXG4gICAgICAgICAgICAgICAgICAgIHR5OiBwYXJhbWV0ZXJzLmxlbmd0aCA9PT0gMiA/IHZhbHVlQ2hlY2subGVuZ3RoKHBhcmFtZXRlcnNbMV0pIDogdHhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhbnNsYXRlWDogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHQ6IHZhbHVlQ2hlY2subGVuZ3RoKHBhcmFtZXRlcnNbMF0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IGZ1bmN0aW9uIChwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlcnMgPT09IG51bGwgfCBwYXJhbWV0ZXJzLmxlbmd0aCAhPSAxKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0OiB2YWx1ZUNoZWNrLmxlbmd0aChwYXJhbWV0ZXJzWzBdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY2FsZTogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoIDwgMSB8IHBhcmFtZXRlcnMubGVuZ3RoID4gMilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgICAgbGV0IHN4ID0gdmFsdWVDaGVjay5udW1iZXIocGFyYW1ldGVyc1swXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3g6IHN4LFxuICAgICAgICAgICAgICAgICAgICBzeTogcGFyYW1ldGVycy5sZW5ndGggPT09IDIgPyB2YWx1ZUNoZWNrLm51bWJlcihwYXJhbWV0ZXJzWzFdKSA6IHN4XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjYWxlWDogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHM6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMF0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjYWxlWTogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHM6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMF0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJvdGF0ZTogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGE6IHZhbHVlQ2hlY2suYW5nbGUocGFyYW1ldGVyc1swXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2tldzogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoIDwgMSB8IHBhcmFtZXRlcnMubGVuZ3RoID4gMilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgICAgbGV0IGF4ID0gdmFsdWVDaGVjay5hbmdsZShwYXJhbWV0ZXJzWzBdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBheDogYXgsXG4gICAgICAgICAgICAgICAgICAgIGF5OiBwYXJhbWV0ZXJzLmxlbmd0aCA9PT0gMiA/IHZhbHVlQ2hlY2suYW5nbGUocGFyYW1ldGVyc1sxXSkgOiBheFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBza2V3WDogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGE6IHZhbHVlQ2hlY2suYW5nbGUocGFyYW1ldGVyc1swXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2tld1k6IGZ1bmN0aW9uIChwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlcnMgPT09IG51bGwgfCBwYXJhbWV0ZXJzLmxlbmd0aCAhPSAxKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhOiB2YWx1ZUNoZWNrLmFuZ2xlKHBhcmFtZXRlcnNbMF0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hdHJpeDNkOiBmdW5jdGlvbiAocGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzID09PSBudWxsIHwgcGFyYW1ldGVycy5sZW5ndGggIT0gMTYpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGExOiB2YWx1ZUNoZWNrLm51bWJlcihwYXJhbWV0ZXJzWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgYjE6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMV0pLFxuICAgICAgICAgICAgICAgICAgICBjMTogdmFsdWVDaGVjay5udW1iZXIocGFyYW1ldGVyc1syXSksXG4gICAgICAgICAgICAgICAgICAgIGQxOiB2YWx1ZUNoZWNrLm51bWJlcihwYXJhbWV0ZXJzWzNdKSxcbiAgICAgICAgICAgICAgICAgICAgYTI6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbNF0pLFxuICAgICAgICAgICAgICAgICAgICBiMjogdmFsdWVDaGVjay5udW1iZXIocGFyYW1ldGVyc1s1XSksXG4gICAgICAgICAgICAgICAgICAgIGMyOiB2YWx1ZUNoZWNrLm51bWJlcihwYXJhbWV0ZXJzWzZdKSxcbiAgICAgICAgICAgICAgICAgICAgZDI6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbN10pLFxuICAgICAgICAgICAgICAgICAgICBhMzogdmFsdWVDaGVjay5udW1iZXIocGFyYW1ldGVyc1s4XSksXG4gICAgICAgICAgICAgICAgICAgIGIzOiB2YWx1ZUNoZWNrLm51bWJlcihwYXJhbWV0ZXJzWzldKSxcbiAgICAgICAgICAgICAgICAgICAgYzM6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMTBdKSxcbiAgICAgICAgICAgICAgICAgICAgZDM6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMTFdKSxcbiAgICAgICAgICAgICAgICAgICAgYTQ6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMTJdKSxcbiAgICAgICAgICAgICAgICAgICAgYjQ6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMTNdKSxcbiAgICAgICAgICAgICAgICAgICAgYzQ6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMTRdKSxcbiAgICAgICAgICAgICAgICAgICAgZDQ6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMTVdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2xhdGUzZDogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoICE9IDMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR4OiB2YWx1ZUNoZWNrLmxlbmd0aChwYXJhbWV0ZXJzWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgdHk6IHZhbHVlQ2hlY2subGVuZ3RoKHBhcmFtZXRlcnNbMV0pLFxuICAgICAgICAgICAgICAgICAgICB0ejogdmFsdWVDaGVjay5sZW5ndGgocGFyYW1ldGVyc1syXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhbnNsYXRlWjogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHQ6IHZhbHVlQ2hlY2subGVuZ3RoKHBhcmFtZXRlcnNbMF0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjYWxlM2Q6IGZ1bmN0aW9uIChwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlcnMgPT09IG51bGwgfCBwYXJhbWV0ZXJzLmxlbmd0aCAhPSAzKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzeDogdmFsdWVDaGVjay5udW1iZXIocGFyYW1ldGVyc1swXSksXG4gICAgICAgICAgICAgICAgICAgIHN5OiB2YWx1ZUNoZWNrLm51bWJlcihwYXJhbWV0ZXJzWzFdKSxcbiAgICAgICAgICAgICAgICAgICAgc3o6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMl0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjYWxlWjogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHM6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMF0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJvdGF0ZTNkOiBmdW5jdGlvbiAocGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzID09PSBudWxsIHwgcGFyYW1ldGVycy5sZW5ndGggIT0gNClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeDogdmFsdWVDaGVjay5udW1iZXIocGFyYW1ldGVyc1swXSksXG4gICAgICAgICAgICAgICAgICAgIHk6IHZhbHVlQ2hlY2subnVtYmVyKHBhcmFtZXRlcnNbMV0pLFxuICAgICAgICAgICAgICAgICAgICB6OiB2YWx1ZUNoZWNrLm51bWJlcihwYXJhbWV0ZXJzWzJdKSxcbiAgICAgICAgICAgICAgICAgICAgYTogdmFsdWVDaGVjay5hbmdsZShwYXJhbWV0ZXJzWzNdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByb3RhdGVYOiBmdW5jdGlvbiAocGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzID09PSBudWxsIHwgcGFyYW1ldGVycy5sZW5ndGggIT0gMSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYTogdmFsdWVDaGVjay5hbmdsZShwYXJhbWV0ZXJzWzBdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByb3RhdGVZOiBmdW5jdGlvbiAocGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzID09PSBudWxsIHwgcGFyYW1ldGVycy5sZW5ndGggIT0gMSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYTogdmFsdWVDaGVjay5hbmdsZShwYXJhbWV0ZXJzWzBdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByb3RhdGVaOiBmdW5jdGlvbiAocGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzID09PSBudWxsIHwgcGFyYW1ldGVycy5sZW5ndGggIT0gMSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYTogdmFsdWVDaGVjay5hbmdsZShwYXJhbWV0ZXJzWzBdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZXJzcGVjdGl2ZTogZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PT0gbnVsbCB8IHBhcmFtZXRlcnMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGw6IHZhbHVlQ2hlY2subGVuZ3RoKHBhcmFtZXRlcnNbMF0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrKG9iamVjdCkge1xuICAgICAgICAgICAgbGV0IF9vYmplY3QgPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IGZ1bmN0aW9uTmFtZSBpbiBvYmplY3QpXG4gICAgICAgICAgICAgICAgX29iamVjdFtmdW5jdGlvbk5hbWVdID0gZnVuY3Rpb25DaGVja1tmdW5jdGlvbk5hbWVdKG9iamVjdFtmdW5jdGlvbk5hbWVdKTtcbiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXRBbmdsZVZhbHVlKGFuZ2xlT2JqZWN0KSB7XG4gICAgICAgIGlmIChhbmdsZU9iamVjdC50eXBlICE9ICdhbmdsZScpIHRocm93IG5ldyBSYW5nZUVycm9yKCk7XG4gICAgICAgIHN3aXRjaCAoYW5nbGVPYmplY3QudW5pdCkge1xuICAgICAgICAgICAgY2FzZSAnZGVnJzogcmV0dXJuIGFuZ2xlT2JqZWN0LnZhbHVlICogTWF0aC5QSSAvIDE4MDtcbiAgICAgICAgICAgIGNhc2UgJ2dyYWQnOiByZXR1cm4gYW5nbGVPYmplY3QudmFsdWUgKiBNYXRoLlBJIC8gMjAwO1xuICAgICAgICAgICAgY2FzZSAncmFkJzogcmV0dXJuIGFuZ2xlT2JqZWN0LnZhbHVlO1xuICAgICAgICAgICAgY2FzZSAndHVybic6IHJldHVybiBhbmdsZU9iamVjdC52YWx1ZSAqIDIgKiBNYXRoLlBJO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFJhbmdlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwiZmlsZSI6ImxpYi90cmFuc2Zvcm1GdW5jdGlvbnNJbnRlcnByZXRlci5qcyJ9
